# /research - データ分析・市場調査コマンド

## 目的
Gemini CLIのデータアナリスト/リサーチャーとして、大規模コンテキスト処理とマルチモーダル対応を活用し、データ分析・市場調査・ユーザー行動分析を実行します。

## 対象AI
- **Gemini CLI**: 大規模コンテキスト処理、マルチモーダル対応、複雑なパターン認識能力を活用

## 入力パラメータ
- **必須**: `$RESEARCH_TYPE` - 調査タイプ（user_behavior, market_analysis, competitor_analysis, performance_metrics, ab_test）
- **任意**: `$DATA_SOURCE` - データソース（analytics, surveys, images, videos, documents）
- **任意**: `$ANALYSIS_DEPTH` - 分析深度（basic, detailed, comprehensive）
- **任意**: `$TIME_PERIOD` - 分析期間（1week, 1month, 3months, 1year）

## 出力
- **メインレポート**: `.tmp/research_report_[timestamp].md`
- **データ分析結果**: `.tmp/data_analysis_[type].json`
- **視覚化ファイル**: `.tmp/visualizations/`
- **推奨アクション**: `.tmp/recommendations.md`

## ワークフロー

### Phase 1: データ収集・前処理
```markdown
## データ収集フェーズ

### 1. データソース特定
- ユーザー行動データ（Google Analytics、ヒートマップ等）
- 市場データ（業界レポート、統計データ等）
- 競合データ（公開情報、SNS、ウェブサイト等）
- パフォーマンスデータ（システムメトリクス等）

### 2. マルチモーダルデータ処理
- テキストデータ: レポート、レビュー、コメント分析
- 画像データ: UI/UXスクリーンショット、グラフ、チャート分析
- 動画データ: ユーザー行動動画、デモ動画分析
- 数値データ: KPI、メトリクス、統計データ

### 3. データクリーニング・正規化
- 重複データの除去
- 欠損値の処理
- データ形式の統一
- 外れ値の検出・処理
```

### Phase 2: 分析実行
```markdown
## 分析実行フェーズ

### 1. 探索的データ分析（EDA）
- 基本統計量の算出
- データ分布の確認
- 相関関係の発見
- パターンの特定

### 2. 高度な分析手法適用
- 時系列分析（トレンド、季節性、周期性）
- セグメント分析（ユーザーグループ化）
- コホート分析（継続率、離脱率）
- ファネル分析（コンバージョン経路）

### 3. 予測・推論
- 機械学習モデルによる予測
- 統計的推論
- A/Bテスト結果の有意性検定
- 因果関係の分析
```

### Phase 3: 洞察抽出・レポート作成
```markdown
## 洞察抽出フェーズ

### 1. キーファインディング特定
- 重要な発見事項の抽出
- ビジネスインパクトの評価
- 優先度の設定

### 2. 視覚化作成
- グラフ・チャートの生成
- ダッシュボードの設計
- インフォグラフィックの作成

### 3. アクションプラン策定
- 具体的な改善提案
- 実装優先順位
- 期待効果の予測
- リスク評価
```

## 調査タイプ別仕様

### 1. ユーザー行動分析（user_behavior）
```yaml
目的: ユーザーの行動パターン、使用傾向、離脱ポイントの分析
データ: Google Analytics、ヒートマップ、セッション録画、ユーザーアンケート
出力:
  - ユーザージャーニーマップ
  - 離脱ポイント分析
  - 機能利用率レポート
  - ユーザーセグメント分析
```

### 2. 市場分析（market_analysis）
```yaml
目的: 市場規模、成長性、競合状況、トレンドの分析
データ: 業界レポート、統計データ、SNSトレンド、ニュース記事
出力:
  - 市場規模・成長率レポート
  - トレンド分析
  - 機会・脅威分析
  - 参入戦略提案
```

### 3. 競合分析（competitor_analysis）
```yaml
目的: 競合他社の機能、価格、マーケティング戦略の分析
データ: 競合ウェブサイト、アプリ、SNS、レビュー、プレスリリース
出力:
  - 競合機能比較表
  - 価格戦略分析
  - マーケティング手法分析
  - 差別化ポイント提案
```

### 4. パフォーマンス分析（performance_metrics）
```yaml
目的: システム・ビジネスパフォーマンスの分析と改善提案
データ: KPIダッシュボード、システムメトリクス、売上データ
出力:
  - パフォーマンストレンド分析
  - ボトルネック特定
  - 改善施策の効果予測
  - 最適化ロードマップ
```

### 5. A/Bテスト分析（ab_test）
```yaml
目的: A/Bテスト結果の統計的分析と意思決定支援
データ: テスト結果データ、コンバージョンデータ、ユーザー属性
出力:
  - 統計的有意性検定結果
  - 効果サイズ算出
  - セグメント別分析
  - 実装推奨判定
```

## 成果物テンプレート

### リサーチレポート構成
```markdown
# [調査タイプ] 分析レポート

## エグゼクティブサマリー
- 主要な発見事項（3-5項目）
- ビジネスインパクト評価
- 推奨アクション（優先度順）

## 調査概要
- 調査目的・背景
- 調査方法・データソース
- 分析期間・対象範囲

## 詳細分析結果
### データ概要
- 基本統計量
- データ品質評価

### 分析結果
- 発見事項詳細
- 統計的検定結果
- 視覚化グラフ・チャート

## 洞察・示唆
- パターン・トレンドの解釈
- ビジネスへの影響分析
- 因果関係の考察

## 推奨アクション
- 短期施策（1-3ヶ月）
- 中期施策（3-6ヶ月）
- 長期戦略（6ヶ月-1年）

## 次のステップ
- 追加調査が必要な領域
- モニタリング指標の設定
- 効果測定方法
```

## 連携コマンド
- **→ /content-strategy**: 分析結果を基にしたコンテンツ戦略立案
- **→ /product-plan**: 市場調査結果を基にした製品計画
- **→ /design**: ユーザー行動分析を基にした設計改善
- **→ /enhance**: パフォーマンス分析を基にした機能改善

## 品質チェックリスト
- [ ] データの信頼性・妥当性確認
- [ ] 統計的手法の適切性検証
- [ ] バイアスの考慮・対処
- [ ] 結論の論理的整合性確認
- [ ] アクションプランの実現可能性評価

## 使用例

### ユーザー行動分析
```bash
/research user_behavior --data_source="analytics,heatmaps" --time_period="3months" --analysis_depth="comprehensive"
```

### 競合分析
```bash
/research competitor_analysis --data_source="websites,reviews,social" --analysis_depth="detailed"
```

### A/Bテスト分析
```bash
/research ab_test --data_source="test_results" --analysis_depth="basic"
```