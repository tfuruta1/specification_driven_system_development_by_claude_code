{
  "hooks": {
    "pre-commit": {
      "enabled": true,
      "commands": [
        {
          "name": "cleanup-empty-dirs",
          "command": "find . -type d -empty -not -path './.git/*' -exec rmdir {} + 2>/dev/null || true",
          "description": "空のディレクトリを削除"
        },
        {
          "name": "check-temp-files",
          "command": "find . \\( -name '*.tmp' -o -name '*.log' -o -name '*.bak' -o -name '*~' -o -name '*.cache' -o -name '*.temp' -o -name '*.old' \\) -not -path './.git/*' -exec rm -f {} +",
          "description": "一時ファイルを削除"
        },
        {
          "name": "verify-cleanup",
          "command": "if [ $(find . -type d -empty -not -path './.git/*' | wc -l) -gt 0 ] || [ $(find . \\( -name '*.tmp' -o -name '*.log' -o -name '*.bak' \\) -not -path './.git/*' | wc -l) -gt 0 ]; then echo '⚠️  不要なファイル・フォルダが残っています。削除してください。' && exit 1; else echo '✅ クリーンアップ完了'; fi",
          "description": "クリーンアップの確認"
        }
      ]
    },
    "pre-push": {
      "enabled": true,
      "commands": [
        {
          "name": "final-cleanup-check",
          "command": "echo '🔍 Push前の最終チェック...' && find . -type d -empty -not -path './.git/*' | head -5 && find . \\( -name '*.tmp' -o -name '*.log' -o -name '*.bak' \\) -not -path './.git/*' | head -5",
          "description": "Push前の最終確認"
        },
        {
          "name": "block-if-dirty",
          "command": "if [ $(find . -type d -empty -not -path './.git/*' | wc -l) -gt 0 ]; then echo '❌ 空のディレクトリが存在します。削除してからpushしてください。' && exit 1; fi",
          "description": "空ディレクトリがある場合はpushをブロック"
        }
      ]
    }
  },
  "cleanup": {
    "auto_cleanup": true,
    "ignore_patterns": [
      ".git/**",
      "node_modules/**",
      ".venv/**",
      "__pycache__/**"
    ],
    "temp_file_patterns": [
      "*.tmp",
      "*.log",
      "*.bak",
      "*~",
      "*.cache",
      "*.temp",
      "*.old",
      ".DS_Store",
      "Thumbs.db"
    ]
  }
}