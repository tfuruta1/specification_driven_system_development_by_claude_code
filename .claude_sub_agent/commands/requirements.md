# /requirements - 要件定義書生成コマンド

## 概要
プロジェクトの要件定義書を作成するコマンドです。経営企画部が主導し、ビジネス要件と技術要件を体系的に整理します。

## 使用方法
```
/requirements "プロジェクト名または要件の概要"
```

## 実行プロセス

### 1. 要件収集フェーズ
経営企画部とCTOが連携して要件を収集します。

#### 収集項目
- **ビジネス要件**
  - 事業目標との整合性
  - ROI（投資対効果）
  - ステークホルダーの期待値
  - 市場要求

- **ユーザー要件**
  - ターゲットユーザー
  - ユーザーストーリー
  - ユースケース
  - ペルソナ定義

- **システム要件**
  - 機能要件
  - 非機能要件
  - 制約条件
  - 前提条件

### 2. 要件分析フェーズ
システム開発部が技術的観点から要件を分析します。

#### 分析内容
- 実現可能性の評価
- 技術的リスクの特定
- 既存システムとの整合性
- 必要なリソースの見積もり

### 3. 要件定義書作成
標準テンプレートに基づいて要件定義書を作成します。

## 要件定義書テンプレート

```markdown
# 要件定義書 - [プロジェクト名]

## 1. プロジェクト概要
### 1.1 背景と目的
- 背景：
- 目的：
- 期待される効果：

### 1.2 スコープ
- 対象範囲：
- 対象外：

### 1.3 ステークホルダー
| 役割 | 氏名/部署 | 責任範囲 |
|------|-----------|----------|
| プロジェクトオーナー | | |
| エンドユーザー | | |
| 開発チーム | | |

## 2. ビジネス要件
### 2.1 ビジネス目標
- KPI：
- 成功基準：

### 2.2 ビジネスルール
- ルール1：
- ルール2：

## 3. ユーザー要件
### 3.1 ユーザーストーリー
| ID | As a... | I want to... | So that... | 優先度 |
|----|---------|--------------|------------|--------|
| US001 | | | | |

### 3.2 ユースケース
- UC001：[ユースケース名]
  - アクター：
  - 前提条件：
  - 基本フロー：
  - 代替フロー：
  - 事後条件：

## 4. 機能要件
### 4.1 機能一覧
| ID | 機能名 | 説明 | 優先度 |
|----|--------|------|--------|
| FR001 | | | |

### 4.2 詳細機能仕様
#### FR001: [機能名]
- 概要：
- 入力：
- 処理：
- 出力：
- 検証ルール：

## 5. 非機能要件
### 5.1 パフォーマンス要件
- レスポンスタイム：
- スループット：
- 同時接続数：

### 5.2 セキュリティ要件
- 認証方式：
- 認可レベル：
- データ保護：

### 5.3 可用性要件
- 稼働率：
- バックアップ：
- 災害復旧：

### 5.4 保守性要件
- ログ記録：
- 監視項目：
- 更新頻度：

## 6. 制約条件
### 6.1 技術的制約
- 使用技術：
- 互換性：

### 6.2 業務的制約
- 運用時間：
- 法規制：

## 7. 前提条件
- 前提1：
- 前提2：

## 8. リスクと対策
| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| | | | |

## 9. 用語定義
| 用語 | 定義 |
|------|------|
| | |

## 10. 承認
| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| プロジェクトオーナー | | | |
| CTO | | | |
| 経営企画部長 | | | |

---
作成日: YYYY-MM-DD
作成者: 階層型エージェントシステム
バージョン: 1.0
```

## 出力先
- `.claude_sub_agent/docs/requirements/REQ_YYYYMMDD_プロジェクト名.md`
- 承認前は `.ActivityReport/tasks/` で共同編集

## 品質チェックリスト

### 要件の品質基準
- [ ] 完全性：すべての要件が網羅されているか
- [ ] 一貫性：要件間に矛盾がないか
- [ ] 明確性：曖昧な表現がないか
- [ ] 検証可能性：要件が測定・検証可能か
- [ ] 実現可能性：技術的・予算的に実現可能か
- [ ] 追跡可能性：要件IDで追跡可能か

## エージェント役割分担

| エージェント | 責任範囲 |
|-------------|---------|
| CTO | 全体統括、最終承認 |
| 経営企画部 | ビジネス要件、ROI分析 |
| システム開発部 | 技術的実現可能性評価 |
| 品質保証部 | 要件の品質チェック |
| 人事部 | 必要スキルセットの特定 |

## 実行例

### 基本的な使用
```bash
/requirements "ECサイトのリニューアルプロジェクト"
```

### 詳細指定
```bash
/requirements "在庫管理システムの要件定義 - 優先度：高、スコープ：バックエンド中心"
```

## 関連コマンド
- `/spec` - 統合開発フロー
- `/design` - 要件を基にした技術設計
- `/tasks` - 要件を基にしたタスク分割
- `/analyze` - 既存システムの分析

## 注意事項
- 要件定義書は変更管理の対象となります
- 大きな変更がある場合は、バージョンを更新してください
- ステークホルダーの承認を必ず取得してください

---

*このコマンドは階層型エージェントシステムの要件定義フェーズを担当します。*