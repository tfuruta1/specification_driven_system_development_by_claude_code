---
allowed-tools: TodoWrite, TodoRead, Read, Write, MultiEdit, Bash(mkdir:*)
description: Vue.js + REST API プロジェクトの要件定義を作成 (仕様書駆動開発 Step 1)
---

## Context
- タスク要求: $ARGUMENTS

## Your task

### 1. ディレクトリ作成
- `.tmp` ディレクトリが存在しない場合は作成
- プロジェクトルートに `.claude` ディレクトリ構造を確認・作成

### 2. ユーザー要求の分析
提供されたタスク説明を詳細に分析し、以下を抽出：
- 解決すべき核心的な問題
- 明示されていない暗黙の要件
- Vue.js + REST API 技術スタックに特有の考慮事項
- 想定されるエッジケースと制約
- 成功基準

### 3. 要件定義書の作成
`.tmp/requirements.md` を以下の構造で作成：

```markdown
# 要件定義書 - [プロジェクト名]

## 1. プロジェクト概要
### 1.1 目的
[このプロジェクトが解決する問題と目指すゴール]

### 1.2 対象ユーザー
[プライマリ・セカンダリユーザーとそのニーズ]

### 1.3 技術スタック確認
- フロントエンド: Vue.js 3 (Composition API)
- 状態管理: Pinia
- ルーティング: Vue Router
- スタイリング: Tailwind CSS + DaisyUI
- ビルドツール: Vite
- HTTP クライアント: Axios
- API 連携: REST API / GraphQL
- 認証: JWT トークン / OAuth 2.0

## 2. 機能要件

### 2.1 必須機能 (MVP)
- [ ] [機能1]: [詳細説明とVue.jsでの実装方針]
- [ ] [機能2]: [詳細説明とREST APIとの連携方針]
- [ ] [機能3]: [詳細説明とPinia状態管理の観点]

### 2.2 推奨機能
- [ ] [将来的に実装したい機能]

### 2.3 オプション機能
- [ ] [余裕があれば実装する機能]

## 3. Vue.js 固有の要件

### 3.1 コンポーネント要件
- Single File Component (.vue) での開発
- Composition API (`<script setup>`) の使用
- Props/Emit の型安全な定義

### 3.2 状態管理要件
- Pinia による集中状態管理
- 必要に応じた状態の永続化
- リアクティビティの適切な活用

### 3.3 ルーティング要件
- Vue Router による SPA ルーティング
- 認証ガードの実装
- 動的ルート対応

## 4. Supabase 連携要件

### 4.1 データベース要件
- PostgreSQL でのデータモデル設計
- Row Level Security (RLS) の活用
- リアルタイム機能の検討

### 4.2 認証要件
- Supabase Auth による認証
- 認証状態の Pinia での管理
- 認証ガードの実装

### 4.3 ストレージ要件
- ファイルアップロード機能（必要に応じて）
- 適切な権限設定

## 5. 非機能要件

### 5.1 パフォーマンス
- Vue 3 の最適化機能活用
- Vite による高速ビルド
- 適切なコード分割

### 5.2 ユーザビリティ
- DaisyUI による統一されたUI
- レスポンシブデザイン
- 直感的なナビゲーション

### 5.3 保守性
- コンポーザブルによるロジック分離
- 適切なコンポーネント分割
- テストしやすい構造

## 6. 制約事項

### 6.1 技術的制約
- JavaScript (ES2015+) の使用
- ブラウザ対応範囲
- Supabase の制限事項

### 6.2 プロジェクト制約
- 開発期間
- リソース制限
- 運用コスト

## 7. 成功基準

### 7.1 完了の定義
- [ ] [明確な完了条件1]
- [ ] [明確な完了条件2]
- [ ] [Vue.js アプリケーションとしての品質基準]
- [ ] [Supabase 連携の動作確認]

### 7.2 受け入れテスト
- [ユーザーが満足する条件]
- [技術的な品質基準]

## 8. 想定されるリスク

### 8.1 技術的リスク
- Vue.js 3 の新機能に関するリスク
- Supabase サービスの依存リスク
- 対策: [具体的な対策]

### 8.2 プロジェクトリスク
- 開発工数の見積もりリスク
- 対策: [具体的な対策]

## 9. 設計フェーズでの検討事項
- コンポーネント構造の詳細設計
- Pinia ストア設計
- Supabase スキーマ設計
- Vue Router 構成
- DaisyUI テーマカスタマイズ
```

### 4. TODO エントリーの作成
TodoWrite を使用して「要件定義の完了とレビュー」をタスクとして追加

### 5. ユーザーへの提示
作成した要件定義書を表示し、以下を確認：
- 要件の理解が正しいか
- 漏れている要件はないか
- Vue.js + REST API 技術スタックに特有の考慮漏れはないか
- 設計フェーズに進む許可

## 重要な注意点
- Vue.js 3 Composition API の特性を考慮した要件定義
- REST API の認証・認可やエラーハンドリングを前提とした設計
- DaisyUI コンポーネントを前提としたUI要件
- Pinia による状態管理を考慮したデータフロー
- 実装の現実性を重視した要件設定

Think hard and create comprehensive requirements that leverage the full potential of the Vue.js + REST API tech stack.